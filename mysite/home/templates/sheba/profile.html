{% load static %}

<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src='https://maps.googleapis.com/maps/api/js?key=AIzaSyALNPHGbxTegKMp_LwOdenv8xFEzkPvIcA&callback=initMap'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-locationpicker/0.1.12/locationpicker.jquery.min.js"></script>



</head>

<body >

 <nav id = "menu" class="navbar navbar-inverse">
  <ul class="nav navbar-nav">
    <li><a href="/">HOME</a></li>
    <li><a href="/logout">Logout</a></li>
  </ul>
</nav>

<hr>
 <form class="form" action="" method="post" id="" enctype="multipart/form-data">
     {% csrf_token %}
<div class="container bootstrap snippet">
    <div class="row">
  		<div class="col-sm-10"><h1>{{user.first_name}}</h1></div>
    </div>

    <div class="row">
  		<div class="col-sm-3"><!--left col-->


      <div class="text-center">

        <img src="{{user.image.url}}" class="avatar img-circle img-thumbnail" alt="avatar">

        <h6>Upload a different photo...</h6>
          {{ form.image }}

      </div></hr><br>



          <ul class="list-group">
            <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard fa-1x"></i></li>
            <li class="list-group-item text-right"><span class="pull-left"><strong>job</strong></span> 125</li>
            <li class="list-group-item text-right"><span class="pull-left"><strong>Likes</strong></span> 13</li>
            <li class="list-group-item text-right"><span class="pull-left"><strong>rating</strong></span> 37</li>
          </ul>



        </div><!--/col-3-->
    	<div class="col-sm-9">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#home">profile</a></li>
                <li><a data-toggle="tab" href="#location">location</a></li>
                <li><a data-toggle="tab" href="#settings">settings</a></li>
              </ul>


          <div class="tab-content">

              <div id="location" class="tab-pane fade"> <!-- location !-->
                        Location: <input name="location" type="text" id="us2-address" style="width: 200px"/>
                        Radius: <input name="radius" type="text" id="us2-radius"/>
                        <div id="us2" style="width: 500px; height: 400px;"></div>
                        Lat.: <input name="lat" type="text" value="{{user.lat}}" id="us2-lat"/>
                        Long.: <input name="lon" type="text" value="{{user.lon}}" id="us2-lon"/>
           </div>


            <div class="tab-pane active" id="home">
                <hr>

                      <div class="form-group">

                          <div class="col-xs-6">
                              <label for="first_name"><h4>First name</h4>
                              <input type="text" class="form-control .input-lg" name="first_name" size="45" value="{{user.first_name}}" title="enter your first name if any." required>
                              </label>
                          </div>
                      </div>
                      <div class="form-group">

                          <div class="col-xs-6">
                            <label for="last_name"><h4>Last name</h4>
                              <input type="text" class="form-control .input-lg" name="last_name" size="45" value="{{user.last_name}}" title="enter your last name if any." required>
                          </label>
                          </div>

                      </div>

                      <div class="form-group">

                          <div class="col-xs-6">
                              <label for="phone"><h4>Mobile</h4>
                              <input type="text" class="form-control .input-lg" name="contact_no" size="45" value="{{user.contact_no}}" title="enter your phone number if any." required>
                              </label>
                          </div>
                      </div>


                      <div class="form-group">

                          <div class="col-xs-6">
                              <label><h4>Email</h4>
                              <input type="email" class="form-control" name="email" size="45" value="{{user.email}}" title="enter your email." required>
                              </label>
                          </div>
                      </div>
                      <div class="form-group">

                          <div class="col-xs-6">
                              <label><h4>City</h4>
                              <input type="text" name="city" class="form-control" size="45" value="{{user.city}}" title="enter a location" required>
                              </label>
                          </div>
                      </div>

              {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                    {% endfor %}
                {% endfor %}

                {% for error in form.non_field_errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                     </div>
                {% endfor %}
              {% endif %}
                      <div class="form-group">
                           <div class="col-xs-12">
                                <br>
                              	<button class="btn btn-lg btn-success" type="submit"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
                               	<button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>
                            </div>
                      </div>

              <hr>

             </div><!--/tab-pane-->

              </div><!--/tab-pane-->
          </div><!--/tab-content-->

        </div><!--/col-9-->
    </div><!--/row-->
 </form>
<div id="footer">
  <div class="container text-center">
    <div class="fnav">
      <p>Copyright &copy; 2019 CycloCoder. Designed by Sheba</p>
    </div>
  </div>
</div>
</body>

<script>
    $('#us2').locationpicker({
        location: {
            latitude: {{user.lat}},
            longitude: {{user.lon}}
        },
        radius: 300,
        inputBinding: {
            latitudeInput: $('#us2-lat'),
            longitudeInput: $('#us2-lon'),
            radiusInput: $('#us2-radius'),
            locationNameInput: $('#us2-address'),
        }
    });
</script>